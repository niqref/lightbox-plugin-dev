{"version":3,"sources":["webpack:///./LightboxPlugin.js","webpack:///./examples/js/index.js","webpack:///./examples/js/utils/generateLightboxMarkup.js","webpack:///./examples/js/utils/lightbox.js","webpack:///./examples/scss/index.scss?72f3"],"names":["LightboxPlugin","buttonCloseAriaLabel","_lightbox","_closeButton","_wrapper","_content","_inputContent","_closeButtonAriaLabel","_LightboxClass","_input","_body","_buttonClose","_show","_Handler","_close","_closeCallback","_scrollPosition","_x","_y","_ESC_CODE","content","closeCallback","classes","close","outerHTML","Array","isArray","push","_rememberScrollPosition","_showLightbox","_blockScroll","classList","add","onCloseAction","lightboxCss","getComputedStyle","isAnimated","animationName","isTransitioned","transitionProperty","remove","addEventListener","_closeLightbox","once","insertAdjacentHTML","innerHTML","_unblockScroll","_removeLightbox","window","location","hash","_setScrollPosition","pageXOffset","pageYOffset","_createLightbox","_createWrapper","_createCloseButton","_createContent","appendChild","document","body","_setLightboxCloseHandler","createElement","type","ariaLabel","target","keyCode","contains","setBlockStyles","_removeLightboxCloseHandler","removeEventListener","removeBlockStyles","scrollTo","documentElement","style","paddingRight","parseFloat","getScrollWidth","overflow","innerWidth","clientWidth","lightboxButton","querySelector","OnLightboxButtonClick","lightboxContent","generateLightboxMarkup","Lightbox","title","image","textContent","src","smileImage","alt"],"mappings":"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","file":"js/examples.js","sourcesContent":["export default class LightboxPlugin {\n  constructor({ buttonCloseAriaLabel = 'Close' } = {}) {\n    this._lightbox = null;\n    this._closeButton = null;\n    this._wrapper = null;\n    this._content = null;\n    this._inputContent = null;\n\n    this._closeButtonAriaLabel = buttonCloseAriaLabel;\n\n    this._LightboxClass = {\n      _input: [],\n      _body: 'body--lightbox',\n      _lightbox: 'lightbox',\n      _wrapper: 'lightbox__wrapper',\n      _buttonClose: 'lightbox__close',\n      _content: 'lightbox__content',\n      _show: 'lightbox--show',\n    };\n\n    this._Handler = {\n      _close: null,\n    };\n\n    this._closeCallback = null;\n\n    this._scrollPosition = {\n      _x: null,\n      _y: null,\n    };\n\n    this._ESC_CODE = 27;\n  }\n\n  open({ content, closeCallback, classes }) {\n    if (this._lightbox) {\n      this.close();\n    }\n\n    this._inputContent = content.outerHTML || content;\n\n    if (closeCallback) {\n      this._closeCallback = closeCallback;\n    }\n\n    if (classes) {\n      if (Array.isArray(classes)) {\n        this._LightboxClass._input.push(...classes);\n      } else {\n        this._LightboxClass._input.push(classes);\n      }\n    }\n\n    this._rememberScrollPosition();\n    this._showLightbox();\n    this._blockScroll();\n\n    this._lightbox.classList.add(this._LightboxClass._show);\n  }\n\n  close(onCloseAction) {\n    if (onCloseAction) {\n      onCloseAction();\n    }\n\n    const lightboxCss = getComputedStyle(this._lightbox);\n    const isAnimated = lightboxCss.animationName !== 'none';\n    const isTransitioned = lightboxCss.transitionProperty !== 'all';\n\n    this._lightbox.classList.remove(this._LightboxClass._show);\n\n    if (isAnimated || isTransitioned) {\n      this._lightbox.addEventListener(isAnimated ? 'animationend' : 'transitionend', () => this._closeLightbox(), { once: true });\n    } else {\n      this._closeLightbox();\n    }\n  }\n\n  getLightbox() {\n    return this._lightbox;\n  }\n\n  appendContent(content) {\n    if (content && this._content) {\n      this._inputContent += content;\n      this._content.insertAdjacentHTML('beforeend', content);\n    }\n  }\n\n  replaceContent(content) {\n    if (content) {\n      this._inputContent = content;\n      this._content.innerHTML = this._inputContent;\n    }\n  }\n\n  _closeLightbox() {\n    this._unblockScroll();\n    this._removeLightbox();\n\n    if (window.location.hash) {\n      window.location.hash = '';\n    }\n\n    this._setScrollPosition();\n\n    if (this._closeCallback) {\n      this._closeCallback();\n    }\n  }\n\n  _rememberScrollPosition() {\n    [this._scrollPosition._x, this._scrollPosition._y] = [window.pageXOffset, window.pageYOffset];\n  }\n\n  _showLightbox() {\n    this._createLightbox();\n    this._createWrapper();\n    this._createCloseButton();\n    this._createContent();\n\n    this._wrapper.appendChild(this._closeButton);\n    this._wrapper.appendChild(this._content);\n    this._lightbox.appendChild(this._wrapper);\n    document.body.appendChild(this._lightbox);\n\n    this._setLightboxCloseHandler();\n  }\n\n  _createLightbox() {\n    this._lightbox = document.createElement('div');\n    this._lightbox.classList.add(this._LightboxClass._lightbox, ...this._LightboxClass._input);\n  }\n\n  _createWrapper() {\n    this._wrapper = document.createElement('div');\n    this._wrapper.classList.add(this._LightboxClass._wrapper);\n  }\n\n  _createCloseButton() {\n    this._closeButton = document.createElement('button');\n    this._closeButton.type = 'button';\n    this._closeButton.classList.add(this._LightboxClass._buttonClose);\n    this._closeButton.ariaLabel = this._closeButtonAriaLabel;\n  }\n\n  _createContent() {\n    this._content = document.createElement('div');\n    this._content.classList.add(this._LightboxClass._content);\n    this._content.innerHTML = this._inputContent;\n  }\n\n  _setLightboxCloseHandler() {\n    this._Handler._close = ({ target, keyCode }) => {\n      if (keyCode === this._ESC_CODE\n        || target.classList.contains(this._LightboxClass._lightbox)\n        || target.classList.contains(this._LightboxClass._buttonClose)) {\n        this.close();\n      }\n    };\n\n    document.addEventListener('keyup', this._Handler._close);\n    document.addEventListener('click', this._Handler._close);\n  }\n\n  _blockScroll() {\n    LightboxPlugin.setBlockStyles();\n\n    document.body.classList.add(this._LightboxClass._body);\n  }\n\n  static setBlockStyles() {\n    document.documentElement.style.paddingRight = `${parseFloat(getComputedStyle(document.documentElement).paddingRight) + LightboxPlugin.getScrollWidth()}px`;\n    document.documentElement.style.overflow = 'hidden';\n    document.body.style.overflow = 'hidden';\n  }\n\n  static getScrollWidth() {\n    return window.innerWidth - document.body.clientWidth;\n  }\n\n  _removeLightbox() {\n    this._removeLightboxCloseHandler();\n\n    if (this._lightbox) {\n      this._lightbox.remove();\n      this._lightbox = null;\n      this._inputContent = null;\n      this._closeButton = null;\n      this._wrapper = null;\n      this._content = null;\n    }\n  }\n\n  _removeLightboxCloseHandler() {\n    if (this._Handler._close) {\n      document.removeEventListener('keyup', this._Handler._close);\n      document.removeEventListener('click', this._Handler._close);\n      this._Handler._close = null;\n    }\n  }\n\n  _unblockScroll() {\n    LightboxPlugin.removeBlockStyles();\n\n    document.body.classList.remove(this._LightboxClass._body);\n  }\n\n  static removeBlockStyles() {\n    document.documentElement.style.paddingRight = '';\n    document.documentElement.style.overflow = '';\n    document.body.style.overflow = '';\n  }\n\n  _setScrollPosition() {\n    if (this._scrollPosition._x && this._scrollPosition._y) {\n      window.scrollTo(this._scrollPosition._x, this._scrollPosition._y);\n      [this._scrollPosition._x, this._scrollPosition._y] = [null, null];\n    }\n  }\n}\n","import '@/examples/scss/index.scss';\nimport Lightbox from '@/examples/js/utils/lightbox';\nimport generateLightboxMarkup from '@/examples/js/utils/generateLightboxMarkup';\n\nconst lightboxButton = document.querySelector('button');\n\nconst OnLightboxButtonClick = () => {\n  const lightboxContent = generateLightboxMarkup();\n\n  Lightbox.open({\n    content: lightboxContent,\n  });\n};\n\nlightboxButton.addEventListener('click', OnLightboxButtonClick);\n","import smileImage from '@/examples/images/smile.png';\n\nconst generateLightboxMarkup = () => {\n  const title = document.createElement('h2');\n  const image = document.createElement('img');\n  title.textContent = 'Hi! I\\'m lightbox title!';\n  image.src = smileImage;\n  image.alt = 'Smile';\n\n  return title.outerHTML + image.outerHTML;\n};\n\nexport default generateLightboxMarkup;\n","import LightboxPlugin from '@/LightboxPlugin';\n\nconst Lightbox = new LightboxPlugin();\n\nexport default Lightbox;\n","// extracted by mini-css-extract-plugin\nexport {};"],"sourceRoot":""}